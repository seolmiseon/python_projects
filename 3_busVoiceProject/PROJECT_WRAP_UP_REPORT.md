# 버스 음성 안내 시스템 프로젝트 랩업 리포트

## 1. 프로젝트 설명

### 해결하려던 문제

시각장애인을 위한 대중교통 접근성 개선이 필요했습니다. 기존 버스 안내 시스템은 시각적 정보에 의존하여, 시각장애인이 어떤 버스를 탑승했는지 확인하기 어려운 문제가 있었습니다.

### 프로젝트 목표

-   **실시간 버스 정보**를 공공데이터 API로 조회
-   **AI 기반 분류**로 버스 타입 자동 판별
-   **RAG 시스템**으로 적절한 안내 정보 검색
-   **자연어 생성 AI**로 친근한 음성 안내 문구 생성
-   **TTS**로 실제 음성 파일 출력

### 달성한 결과

"이 버스는 강남역 방향 일반버스 153번입니다!"와 같은 구체적이고 자연스러운 버스 내부 음성 안내 시스템을 구현했습니다.

## 2. 프로젝트 구조 소개

### 사용한 모델

1. **Solar Mini** (Classification)

    - 용도: 공공데이터 API 결과를 분석하여 버스 타입 분류
    - 역할: "시내버스", "광역버스", "공항버스" 등으로 분류

2. **Solar Pro** (Text Generation)

    - 용도: 자연스러운 버스 안내 음성 문구 생성
    - 역할: 분류된 정보와 실제 버스 데이터를 조합하여 최종 안내문 생성

3. **Solar Embedding** (Vector Search)

    - 용도: RAG 시스템의 벡터 검색
    - 역할: 버스 타입에 맞는 적절한 안내 템플릿 검색

4. **Google Text-to-Speech**
    - 용도: 생성된 텍스트를 음성 파일로 변환

### 사용한 데이터

-   **공공데이터 포털 버스 API**: 실시간 버스 노선 정보
-   **자체 구축 RAG 데이터베이스**:
    -   버스 타입별 안내 정보 (시내버스, 광역버스, 공항버스 등)
    -   안전 안내 정보 (우선석, 교통카드 등)
    -   시간대별 안내 정보 (출퇴근시간 혼잡도 등)

### 평가한 방식

1. **기능적 평가**: 로컬 환경에서의 시스템 동작 검증
2. **정성적 평가**: 생성된 음성 안내의 자연스러움
3. **시스템 안정성**: API 연동 및 오류 처리 능력
4. **사용자 경험**: RAG 검색 결과의 관련성
5. **배포 가능성**: Streamlit Cloud 배포 환경 분석

### 프로젝트 입출력 도식도

```
[사용자 입력]
    ↓
[버스번호 + 지역코드]
    ↓
[공공데이터 API 조회] → [실시간 버스 정보]
    ↓
[Solar Mini] → [버스 타입 분류]
    ↓
[RAG 시스템] → [관련 안내 정보 검색]
    ↓
[Solar Pro] → [자연스러운 안내문 생성]
    ↓
[Google TTS] → [음성 파일 출력]
    ↓
[사용자에게 음성 재생]
```

### 주요 시스템 컴포넌트

-   `app.py`: Streamlit 웹 인터페이스
-   `bus_api.py`: 공공데이터 API 연동
-   `solar_api.py`: Solar AI 모델 호출
-   `rag_system.py`: 벡터 검색 시스템
-   `llm_prompt.py`: KoGPT2 백업 모델

## 3. 프로젝트 회고

### 잘한 것들

1. **체계적인 시스템 설계**

    - API → AI 분류 → RAG 검색 → 텍스트 생성 → TTS의 명확한 파이프라인 구축
    - 각 단계별 모듈화로 유지보수성 향상

2. **실용적인 기술 조합**

    - 공공데이터 API로 실시간 정보 활용
    - RAG 시스템으로 도메인 특화 정보 제공
    - Solar AI로 자연스러운 한국어 생성

3. **배포 환경 최적화 시도**

    - Streamlit Cloud 배포 환경 구성
    - 의존성 충돌 문제 분석 (langchain-upstage 호환성 이슈)
    - 런타임 환경 명시 (Python 3.11.8)
    - requirements.txt 최적화 작업

4. **견고한 오류 처리**
    - API 실패 시 백업 로직
    - 각 단계별 try-catch 구문
    - 사용자 친화적 오류 메시지

### 아쉬웠던 것들

1. **API 데이터 활용 부족**

    - 공공데이터 API에서 버스번호만 추출하고 목적지, 경유지 등 상세 정보 미활용
    - 실시간 위치, 도착 시간 등 동적 정보 부족

2. **RAG 데이터베이스 한계**

    - 일반적인 안내 정보만 포함, 구체적인 노선별 정보 부족
    - 청크 크기 최적화는 했지만 데이터 품질 개선 필요

3. **모델 성능 검증 부족**

    - Solar Mini 분류 결과의 정확도 측정 안 함
    - Solar Pro 생성 품질의 객관적 평가 기준 부재

4. **사용자 테스트 미실시**

    - 실제 시각장애인 사용자 피드백 없음
    - 다양한 버스 노선에 대한 테스트 부족

5. **배포 환경 제약**
    - Streamlit Cloud에서 langchain-upstage 의존성 충돌 미해결
    - 클라우드 환경과 로컬 환경 간 라이브러리 호환성 차이
    - 배포 없이는 실제 사용자 접근성 제한

### 다음 프로젝트에서의 기술 발전 계획

이 프로젝트에서 얻은 **API + RAG + 생성형 AI + TTS** 파이프라인 경험을 바탕으로, 향후 **축구 AI 플랫폼** 등 다른 도메인에서 더 고도화된 시스템을 구축할 예정입니다.

1. **고급 RAG 시스템 구축**

    - 축구 경기 데이터, 선수 통계, 전술 분석을 위한 대규모 벡터 DB 구축
    - 멀티모달 RAG (텍스트 + 이미지 + 영상) 적용
    - 실시간 경기 상황에 맞는 동적 검색 시스템

2. **도메인 특화 AI 모델 개발**

    - 축구 용어와 전술에 특화된 Fine-tuning 모델
    - 실시간 경기 분석을 위한 Classification 모델
    - 다국어 축구 해설 생성 시스템

3. **실시간 데이터 처리 아키텍처**

    - 스포츠 데이터 API와 연동한 실시간 파이프라인
    - 경기 상황별 맞춤형 정보 제공
    - 사용자 선호도 기반 개인화 시스템

4. **사용자 경험 최적화**

    - 실제 축구팬 대상 사용성 테스트
    - 모바일 최적화 및 반응형 디자인
    - 음성/텍스트 다중 입출력 지원

5. **시스템 확장성**
    - 다른 스포츠 (야구, 농구 등)로 확장 가능한 아키텍처
    - 클라우드 기반 확장성 고려 설계
    - 대용량 데이터 처리를 위한 최적화
    - **안정적인 배포 환경 구축** (Docker 컨테이너화 등 대안 고려)

## 결론

이 프로젝트를 통해 **실용적인 AI 서비스 개발**의 전체 프로세스를 경험할 수 있었습니다. 특히 공공데이터 API, RAG 시스템, 생성형 AI를 조합하여 실제 사회 문제를 해결하는 솔루션을 구현한 것이 가장 큰 성과입니다.

현재 버스 안내 시스템은 **MVP(최소 기능 제품)** 단계로 완성도를 달성했으며, 여기서 얻은 **기술적 노하우와 아키텍처 경험**을 바탕으로 향후 **축구 AI 플랫폼** 등 더 복잡하고 고도화된 프로젝트에서 이 기술 스택을 발전시켜 나갈 계획입니다.

### 핵심 학습 성과

-   **API → AI 분류 → RAG → 생성 → TTS** 파이프라인 구축 능력
-   **Streamlit Cloud 배포** 및 의존성 관리 경험
-   **실시간 데이터 처리**와 **AI 모델 연동** 노하우
-   **사용자 중심 서비스 설계** 관점 습득

이러한 기반 기술들이 다음 프로젝트에서 더욱 정교하고 확장성 있는 시스템으로 발전될 것으로 기대합니다.
